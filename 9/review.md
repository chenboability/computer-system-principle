# review

## 总结：

Android手机操作系统（Android 2.1）虽然允许用户对第三方应用程序获取敏感数据（如位置、摄像头等）这一行为进行控制（是否授权），但是这种粗粒度的授权机制使得用户无法获知应用程序具体使用了哪些信息以及用于何种用途。针对这一问题，作者提出了TaintDroid，一种系统范围内的隐私信息追踪检测工具。测试中，TaintDroid在随机挑选的30款app中发现了大量非法使用用户隐私数据的行为，证明了其在检测的有效性，同时对系统和app的性能影响也是非常小的。

TaintDroid的追踪和动态分析依赖于标签的传播，定义了4种不同粒度的追踪，分别是：变量级、方法级、消息级和文件级，通过选择不同粒度的追踪，在保证有效性的同时减少对性能的影响。定义了多种不同的隐私标记（taint marking），保存在一个可传播的标签（taint tag）中，这些标签产生于各种用户隐私信息相关的调用点（taint source），随敏感数据传播，当这些隐私敏感的数据通过网络发送时（taint sink），TaintDroid将对其进行检测。

taint tag标签是由一个32位的向量组成的，可以表示32种不同的taint marking。Dalvik解释器在内部栈存储局部变量和参数时，标签保存在交错的数据中，而存储类属性和数组时，标签和数据是相邻放置的，其中对于数组类型只保存一个标签。对于解释代码中标签的传播，针对基本变量定义了一系列传播逻辑规则。对于原生代码中标签的传播，TaintDroid对所有JNI方法进行手动修补，通过增加本地方法参数，在调用返回时更新标签。应用程序间标签的传播采用的是消息级的追踪策略，以避免变量解包导致的监测失效。对于每个文件，也是保存一个标签，随文件写和传播而更新。

敏感数据的检测源taint source的选择范围包括了低带宽传感器（选择LocationManager和SensorManager），高带宽传感器（用于追踪麦克风、照相机的数据缓冲区和文件），数据库（通讯录和短信）和设备标识符（手机号、ICC-ID和IMEI）。敏感数据离开系统taint sink选择了网口。

实验评估：在搭载操作系统Android 2.1的Google Nexus One手机上，随机选择了应用市场30款应用程序app作为实验对象展开评估。有效性评估：30款app中有三分之二存在非法使用用户隐私数据的行为，一半的app向广告商提供用户的位置信息，三分之一的app存在收集设备信息的行为。性能评估：宏观基准测试（macrobenchmark）方面，除照相稍微有点延迟外，其他操作几乎没有延迟；微观基准测试（microbenchmark）方面，CPU处理产生了14%的性能下降，IPC则产生了27%的性能下降，表明TaintDroid具有较好的性能。

## 观点：

（1）优点：

1. 提出了TaintDroid，一种系统范围内的隐私信息追踪检测工具，提供了4种不同粒度的追踪，针对不同数据类型选择不同粒度的追踪方式，权衡有效性与性能负担；
2. 在随机挑选的30款app中发现了大量非法使用用户隐私数据的行为，证明了有效性，同时造成的性能下降也是非常小的，体现了实用性。

（2）缺点：

1. TaintDroid针对的是Android 2.1系统，系统的权限管理比较简单和粗粒度，不支持动态授权；
2. TaintDroid只是在已经发生了隐私泄露行为时予以记录，而没有进一步的防治措施（如拦截或者在泄露前告知用户）；
3. TaintDroid不支持对第三方动态库的追踪；
4. 为降低对性能的影响，只能跟踪信息流，无法跟踪控制流；
5. 对字符串、数组类型的追踪粒度较大，没有提供更细粒度的追踪。
